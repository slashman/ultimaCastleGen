<html>
<head>
<title>Ultima Castle Generator by Slashie</title>
<script src = "generator.js"></script>
<script>
function generateMap(){
	var generator = new MapGenerator();
	var castle = generator.generateMap({royal: true, width: 32, height: 32})
	document.getElementById("mapOutput").innerHTML = '<pre>'+JSON.stringify(castle, null, 2)+'</pre>';
	canvasRenderer.drawSketch(castle.rooms, 'planCanvas', false);
	canvasRenderer.drawLevelWithIcons(castle.map, 'levelCanvas');
}

function imagesLoaded(){
	document.getElementById("generateButton").innerHTML = "Generate Castle";
	document.getElementById("generateButton").disabled = false;
}
</script>
</head>
<button onclick="generateMap()" id ="generateButton" disabled>Loading Images...</button>
<canvas id="planCanvas" width="512" height="512"></canvas>
<canvas id="levelCanvas" width="512" height="512"></canvas>
<div id = "mapOutput"></div>
<script>
var canvasRenderer = new CanvasRenderer({LEVEL_WIDTH: 32, LEVEL_HEIGHT: 32});
</script>
</html>